(()=>{"use strict";const t=document.querySelector("#content");class e{constructor(t,e,n){this.el=document.createElement(t),n.text&&(this.el.innerText=n.text),n.attr&&Object.keys(n.attr).forEach((t=>this.el.setAttribute(t,n.attr[t]))),n.styles&&Object.keys(n.styles).forEach((t=>this.el.style[t]=n.styles[t])),e.append(this.el)}append(t){this.el.appendChild(t)}setText(t){this.el.innerText=t}}const n=new e("div",t,{attr:{class:"header"}}),l=(new e("h1",n,{text:"Todo list"}),new e("div",t,{attr:{class:"menu"}})),i=new e("button",l,{text:"Add todo",attr:{class:"button"}}),s=(new e("h2",l,{text:"Projects:"}),new e("button",l,{text:"Add project",attr:{class:"button"}}));i.el.addEventListener("click",(()=>d.el.style.visibility="visible")),s.el.addEventListener("click",(()=>a.el.style.visibility="visible"));const o=new e("div",t,{attr:{class:"main"}}),c=new e("div",t,{attr:{class:"footer"}});new e("p",c,{text:"Footer"});const d=function(){const n=new e("div",t,{attr:{class:"dialog"},styles:{visibility:"hidden"}}),l=new e("div",n,{attr:{class:"topdiv"}});new e("p",l,{text:"Add todo"}),new e("button",l,{text:"x",attr:{class:"closebutton"}}).el.addEventListener("click",(()=>n.el.style.visibility="hidden"));const i=new e("form",n,{attr:{class:"form"}}),s=new e("div",i,{attr:{class:"inputdiv"}}),o=(new e("label",s,{text:"Todo:",attr:{for:"todoinput"}}),new e("input",s,{attr:{id:"todoinput",class:"input"}}),new e("div",i,{attr:{class:"inputdiv"}})),c=(new e("label",o,{text:"Date:",attr:{for:"dateinput"}}),new e("input",o,{attr:{type:"date",id:"dateinput",class:"input"}}),new e("div",i,{attr:{class:"buttondiv inputdiv"}}));return new e("button",c,{text:"Submit",attr:{class:"button"}}).el.addEventListener("click",(t=>{t.preventDefault(),n.el.style.visibility="hidden"})),n}(),a=function(){const n=new e("div",t,{attr:{class:"dialog"},styles:{visibility:"hidden"}}),l=new e("div",n,{attr:{class:"topdiv"}});new e("p",l,{text:"Add project"}),new e("button",l,{text:"x",attr:{class:"closebutton"}}).el.addEventListener("click",(()=>n.el.style.visibility="hidden"));const i=new e("form",n,{attr:{class:"form"}}),s=new e("div",i,{attr:{class:"inputdiv"}}),o=(new e("label",s,{text:"Project name:",attr:{for:"projectinput"}}),new e("input",s,{attr:{id:"projectinput",class:"input"}}),new e("div",i,{attr:{class:"buttondiv inputdiv"}}));return new e("button",o,{text:"Submit",attr:{class:"button"}}).el.addEventListener("click",(t=>{t.preventDefault(),n.el.style.visibility="hidden"})),n}();function r(t,n){const l=new e("div",o,{attr:{class:"tododiv"}});new e("p",l,{text:t}),new e("p",l,{text:n})}function u(t){Object.values(o.el.children).forEach((t=>o.el.removeChild(t))),Object.keys(t).forEach((e=>{r(e,t[e].date)}))}function v(t){const n=new e("button",l,{text:t,attr:{class:"button projectbutton"}});return new e("button",n,{text:"x",attr:{class:"delproject"}}).el.addEventListener("click",(t=>l.el.removeChild(t.target.parentNode))),n}let p="default";function b(t){p=t}class h{constructor(t,e){this.todo=t,this.date=e,this.done=!1}setDone(){this.done=!0}}let w={default:{}};function f(){return w}d.el.children[1][2].addEventListener("click",(()=>{const t=d.el.children[1][0].value,e=d.el.children[1][1].value;t&&e&&(function(t,e){w[p][t]=new h(t,e)}(t,e),r(t,e)),console.log(f()),d.el.children[1][0].value="",d.el.children[1][1].value=""})),a.el.children[1][1].addEventListener("click",(()=>{const t=a.el.children[1][0].value,e=v(t);w[t]={},e.el.addEventListener("click",(()=>{b(t),u(f()[t])})),e.el.children[0].addEventListener("click",(e=>{var n;e.stopPropagation(),console.log(e),console.log("removing project "+t),n=t,console.log(n),delete w[n],b("default"),u(f().default)})),console.table(f()),a.el.children[1][0].value=""}));const x=v("Default todo's");x.el.removeChild(x.el.children[0]),x.el.addEventListener("click",(()=>{b("default"),u(f().default)}))})();